<acme-navbar></acme-navbar>

<div class="container">
    <div class="page-header">

        <div class="row">
            <div class="col-sm-7">
                <h1><i class="fa fa-github" aria-hidden="true"></i> {{vm.repositoryName}} <small> - <i class="fa fa-user-o fa-fw" aria-hidden="true"></i> {{vm.owner}}</small></h1>
            </div>
            <div class="col-sm-5">
                <p class="text-right"> <i class="fa fa-calendar-o" aria-hidden="true"></i> Created at {{vm.repository.created_at | date: 'dd/MM/yyyy'}} - Update at {{vm.repository.updated_at | date: 'dd/MM/yyyy'}}</p>
                <div class="btn-toolbar pull-right" role="toolbar">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default"> <i class="fa fa-eye" aria-hidden="true"></i> Watch</button>
                        <button type="button" class="btn btn-default"> {{vm.repository.watchers_count}}</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default"> <i class="fa fa-star" aria-hidden="true"></i> Star</button>
                        <button type="button" class="btn btn-default"> {{vm.repository.stargazers_count}}</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default"> <i class="fa fa-code-fork" aria-hidden="true"></i> Fork</button>
                        <button type="button" class="btn btn-default"> {{vm.repository.forks_count}}</button>
                    </div>
                </div>


            </div>

        </div>

    </div>
    <div class="row">
        <div class="col-sm-12">

            <div class="panel panel-default">
                <div class="panel-body">
                    <i class="fa fa-info-circle" aria-hidden="true"></i> {{vm.repository.description}}
                </div>
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-sm-12">
            <uib-tabset active="activeTab">
                <uib-tab index="0" heading="Read me">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="col-sm-12">
                                <div btf-markdown=vm.repository.readmeContent></div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="1" heading="Issues" ng-if="vm.repository.has_issues">
                    <uib-tab-heading>
                        Issues <span class="badge">{{vm.repository.open_issues_count}}</span>
                    </uib-tab-heading>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <p></p>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Number</th>
                                        <th>Title</th>
                                        <th>User</th>
                                        <th>State</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="issue in vm.repository.issues">
                                        <td>{{issue.number}}</td>
                                        <td>{{issue.title}}</td>
                                        <td>{{issue.user.login}}</td>
                                        <td><span class="label" ng-class="vm.getIssueLabelClass(issue.state)">{{issue.state}}</span></td>
                                        <td>
                                            <a type="button" class="btn btn-default pull-right" ng-href="{{issue.html_url}}">
                                                <i class="fa fa-eye" aria-hidden="true"></i> View Issue
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>

    </div>
</div>